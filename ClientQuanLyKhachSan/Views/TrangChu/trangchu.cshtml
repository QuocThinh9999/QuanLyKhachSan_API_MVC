@model ClientQuanLyKhachSan.Models.ModelViewUser
@{
    ViewData["Title"] = "Trang Chu";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    $(function () {
        var selectedDate = null;

        $("#hasDatepicker1").datepicker({
            beforeShowDay: function (date) {
                var today = new Date(); // Lấy ngày hôm nay
                today.setHours(0, 0, 0, 0); // Đặt giờ thành 00:00:00 để bỏ qua phần giờ trong so sánh

                // Đặt ngày hiện tại thành không khả dụng
                if (date.getTime() < today.getTime()) {
                    return [false, 'disabled-day', 'Ngày không khả dụng'];
                }
                return [true];
            },
            onSelect: function (dateText, inst) {
                $("#hasDatepicker2").val('');
                selectedDate = $(this).datepicker('getDate');
                $("#hasDatepicker2").datepicker('option', 'beforeShowDay', function (date) {
                    // Đặt ngày đã chọn từ hasDatepicker1 thành không khả dụng
                    if (selectedDate && date.getTime() < selectedDate.getTime()+1) {
                        return [false, 'disabled-day', 'Ngày không khả dụng'];
                    }
                    return [true];
                });
            }
        });

        $("#hasDatepicker2").datepicker({
            beforeShowDay: function (date) {
                var today = new Date(); // Lấy ngày hôm nay
                today.setHours(0, 0, 0, 0); // Đặt giờ thành 00:00:00 để bỏ qua phần giờ trong so sánh

                // Đặt ngày hiện tại thành không khả dụng
                if (date.getTime() < today.getTime()) {
                    return [false, 'disabled-day', 'Ngày không khả dụng'];
                }
                // Đặt ngày đã chọn từ hasDatepicker1 thành không khả dụng
                if (selectedDate && date.getTime() < selectedDate.getTime()) {
                    return [false, 'disabled-day', 'Ngày không khả dụng'];
                }
                return [true];
            }
        });
    });
   
</script>
<style>
    .disabled-day {
        
        color: #FFFFFF !important;
        cursor: default !important;
    }
</style>
<div class="introduction">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="intro_text">
                    <h1>Khách sạn Merperle Luxury</h1>
                    <p>
                        Đến với chúng tôi, bạn sẽ nhận được chất lượng dịch vụ tốt nhất với mức phí ưu đãi nhất!
                    </p>
                    <a href="@Url.Action("DanhSachVeChungToi", "VeChungToi", new { Areas=""})">KHÁM PHÁ NGAY BÂY GIỜ</a>
                </div>
            </div>
            <div class="col-xl-4 col-lg-5 offset-xl-2 offset-lg-1">
                <div class="booking_form">
                    <h2 style="font-weight:bold;text-align:center">
                        Tìm phòng phù hợp
                    </h2>
                    <form asp-area="" asp-controller="Phong" asp-action="DanhSachCheckPhong" method="post" enctype="multipart/form-data">
                        <div class="check-date">
                            <p>Ngày vào:</p>
                            <div class="check" style="display: flex;">
                                <input type="datetime" class="date-input " id="hasDatepicker1" name="GioCheckin" readonly>
                                <div class="icon"><i class="fa fa-calendar-week"></i></div>
                            </div>
                        </div>
                        <div class="check-date">
                            <p>Ngày ra:</p>
                            <div class="check" style="display: flex;">
                                <input type="datetime" class="date-input " id="hasDatepicker2" name="GioCheckout" readonly>
                                <div class="icon"><i class="fa fa-calendar-week"></i></div>
                            </div>
                            @if (TempData["error"] != null)
                            {
                                <div style="color: red;">@TempData["error"]</div>
                            }
                        </div>
                        <div class="select-option">
                            <p>Người lớn:</p>
                            <div class="select-item">
                                <button id="adult-mn" style="border: 0;"><i class="fa fa-minus"></i></button>
                                <input id="adult-count" value="0" readonly style="border: none;
                                    text-align: center;
                                    height: 40px;
                                    width: 60%;" name="SoNguoiLon">
                                <button id="adult-pl" style="border: 0;"><i class="fa fa-plus"></i></button>
                            </div>
                        </div>
                        <div class="select-option">
                            <p>Trẻ em: </p>
                            <div class="select-item">
                                <button id="kid-mn" style="border: 0;"><i class="fa fa-minus"></i></button>
                                <input id="kid-count" value="0" readonly style="border: none;
                                    text-align: center;
                                    height: 40px;
                                    width: 60%;" name="SoTreEm">
                                <button id="kid-pl" style="border: 0;"><i class="fa fa-plus"></i></button>
                            </div>
                        </div>
                        <div class="form-group">
                            <p>Chọn giá:</p>
                            <div class="range-slider" style="text-align: center;">
                                <p class="price__input" style="text-align:left;">
                                    Từ:
                                    <input class="input-min" type="number" value="0" min="0" max="3000000" name="GiaPhongMin">
                                </p>
                                <p class="price__input" style="text-align:left;">
                                    Đến:
                                    <input class="input-max" type="number" value="3000000" min="0" max="3000000" name="GiaPhongMax">
                                </p>
                                <div class="slider">
                                    <div class="progress"></div>
                                </div>
                                <div class="range-input">
                                    <input class="range-min" value="0" min="0" max="3000000" step="50000"
                                           type="range">
                                    <input class="range-max" value="3000000" min="0" max="3000000" step="50000"
                                           type="range">
                                </div>

                            </div>
                        </div>
                        <button class="check-available" type="submit" id="checkdate-btn" style="font-weight:bold">Tìm phòng</button>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>
<div class="about__us ">
    <div class="container">
        <div class="row">
            <div class="col-lg-6">
                <div class="about_text">
                    <div class="title">
                        <span>Về chúng tôi</span>
                        <h2>
                            Merperle Luxury
                        </h2>
                    </div>
                    <p class="para1">
                        
                        <span id="gioithieu"></span>
                    </p>
                    <a href="@Url.Action("DanhSachVeChungToi", "VeChungToi", new { Areas=""})">
                        <button class="about_btn">Đọc thêm</button>
                    </a>

                </div>
            </div>
            <div class="col-lg-6">
                <div class="picture">
                    <div class="row">
                        <div class="col-sm-6">
                            <img id="DuLichCamTraiTC" src="#" alt="">
                        </div>
                        <div class="col-sm-6">
                            <img id="DichVuNhaHangTC" src="#" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="services">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="service_header">
                    <span>Chúng tôi làm gì?</span>
                    <h2>Khám phá dịch vụ của chúng tôi</h2>
                </div>
            </div>
        </div>

    </div>
</div>
<div class="room_options">

    <div class="container-fluid">
        <div class="room">
            <div class="row">
                @for (int i = 0; i < 4; i++)
                {
                    <div class="col-lg-3 col-md-6">
                        <div class="room_item set-bg1" style="background-image: url(@Model.PhongTrangChus[i].UrlImage.Replace('\\', '/'));">
                            <div class="room-text">
                                <h3>@Model.PhongTrangChus[i].TenPhong</h3>
                                @if (Model.PhongTrangChus[i].GiaSauGiam == Model.PhongTrangChus[i].GiaPhong)
                                {
                                    <h2>@Model.PhongTrangChus[i].GiaPhong.ToString("N0")</h2>
                                }
                                else
                                {

                                    <h2>@Model.PhongTrangChus[i].GiaSauGiam.ToString("N0") <del> @Model.PhongTrangChus[i].GiaPhong.ToString("N0")</del></h2>
                                }
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="r-o">Kích thước:</td>
                                            <td>@Model.PhongTrangChus[i].DienTich m²</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Số người lớn:</td>
                                            <td>@Model.PhongTrangChus[i].SoNguoiLon</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Số trẻ em:</td>
                                            <td>@Model.PhongTrangChus[i].SoTreEm</td>
                                        </tr>
                                        <tr>
                                            <td class="r-o">Dịch vụ:</td>
                                            <td>@Model.PhongTrangChus[i].MoTa</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <a href="@Url.Action("ChiTietPhong", "Phong", new { Areas="", id=Model.PhongTrangChus[i].IdPhong} )" class="primary-btn">Chi tiết hơn</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
<div class="blog_event">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 blog-header" style="text-align: center;">
                <p>Tin tức</p>
                <h3>Sự kiện và bài viết</h3>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            @for(int i = 0; i < 3; i++)
            {
                <div class="col-lg-4">
                    <a href="@Url.Action("ChiTietBaiViet", "BaiViet", new { Areas="", id=Model.BlogTrangChus[i].IdBlog} )">
                        <div class="blog-item" style="background-image: url(@Model.BlogTrangChus[i].UrlImage.Replace('\\', '/'));">

                            <div class="bi-text">
                                <span class="b-tag">NEW</span>
                                <h4 style="color:white;">@Model.BlogTrangChus[i].Tieude</h4>

                            </div>
                        </div>
                    </a>
                </div>
            }  
        </div>
        <div class="row">
            <div class="col-lg-8">
                <a href="@Url.Action("ChiTietBaiViet", "BaiViet", new { Areas="", id=Model.BlogTrangChus[3].IdBlog} )">
                <div class="blog-item" style="background-image:url(@Model.BlogTrangChus[3].UrlImage.Replace('\\', '/'));">
                    <div class="bi-text">
                        <span class="b-tag">NEW</span>
                            <h4 style="color:white;">@Model.BlogTrangChus[3].Tieude</h4>

                    </div>
                </div>
                </a>
            </div>
            <div class="col-lg-4">
                <a href="@Url.Action("ChiTietBaiViet", "BaiViet", new { Areas="", id=Model.BlogTrangChus[4].IdBlog} )">
                <div class="blog-item" style="background-image: url(@Model.BlogTrangChus[4].UrlImage.Replace('\\', '/'));">
                    <div class="bi-text">
                        <span class="b-tag">NEW</span>
                            <h4 style="color:white;">@Model.BlogTrangChus[5].Tieude</h4>

                    </div>
                </div>
                </a>
            </div>
        </div>
    </div>
</div>
<script src="~/front-end/js/API.js"></script>
