@model ClientQuanLyKhachSan.Models.ModelViewUser
@{
    ViewData["Title"] = "Danh Sach Bai Viet";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="~/front-end/js/main.js"></script>
<link rel="stylesheet" href="~/front-end/css/style.css">
<section class="search-blog">
    <div class="row">
        <div class="col-md-12">
            <form class="search-blog-main" asp-controller="BaiViet" asp-action="DanhSachBaiViet" method="post" enctype="multipart/form-data">
                <input type="search" name="ten" id="search-blog">
                <button class="search-box-btn" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
        </div>
    </div>
</section>
<section class="blog-section blog-page spad">
    <div class="container">
        <div class="row">
            @foreach (var item in Model.BlogTrangChus)
            {
                <div class="col-lg-4 col-md-6">
                    <a href="@Url.Action("ChiTietBaiViet", "BaiViet", new { Areas="", id=item.IdBlog} )">
                    <div class="blog-item set-bg" data-setbg="@item.UrlImage.Replace('\\', '/')">
                        <div class="bi-text">
                            <span class="b-tag">NEW</span>
                            <h4><a href="@Url.Action("ChiTietBaiViet", "BaiViet", new { Areas="", id=item.IdBlog} )">@item.Tieude</a></h4>

                        </div>
                    </div>
                    </a>
                </div>
            }
            <div class="col-lg-12">
                <div class="load-more">
                    <a href="#" class="primary-btn">Xem Thêm</a>
                </div>
            </div>
        </div>
    </div>
    
</section>
<script>
    let loadMoreBtn = document.querySelector('.primary-btn');
    let currentItem = 3;

    loadMoreBtn.onclick = () => {
        let boxes = [...document.querySelectorAll('.blog-item')];
        for (var i = currentItem; i < currentItem + 3; i++) {
            boxes[i].style.display = 'block';
        }
        currentItem += 3;
        if (currentItem >= boxes.length) {
            loadMoreBtn.style.display = 'none';
        }
    }
    const setBgElements = document.querySelectorAll('.set-bg');
    setBgElements.forEach(function (element) {
        const bg = element.getAttribute('data-setbg');
        element.style.backgroundImage = 'url(' + bg + ')';
    });

</script>
<!-- Include jQuery library -->
<!-- Include jQuery library -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    $(document).ready(function () {
        var itemsToShow = 6; // Number of items to initially show
        var $blogItems = $('.blog-section .container .blog-item');

        $blogItems.slice(itemsToShow).hide();

        $('.load-more a').on('click', function (e) {
            e.preventDefault();
            var $hiddenItems = $blogItems.filter(':hidden');
            var itemsToDisplay = $hiddenItems.length > itemsToShow ? itemsToShow : $hiddenItems.length;

            $hiddenItems.slice(0, itemsToDisplay).slideDown();

            if ($hiddenItems.length <= itemsToShow) {
                $(this).hide(); //
            }
        });
    });
</script>

<style>
    #search-blog:hover {
        border: 1px solid #b59863;
    }

    #search-blog:focus {
        border: 1px solid #b59863;
    }

    .search-blog {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .search-blog-main {
        text-align: center;
        margin: 0 20px 30px 20px;
        width: 450px;
        position: relative;
    }

    #search-blog {
        width: 100%;
        height: 100%;
        border-radius: 5px;
        outline-offset: 0;
        height: 40px;
        border-color: #b3b3b3;
        border: 1px solid #b3b3b3;
        outline: none;
        padding: 0 40px 0 20px;
    }

    .search-box-btn:hover {
        background-color: #b59863;
    }

    .search-box-btn {
        position: absolute;
        top: 0;
        right: 0;
        height: 40px;
        width: 40px;
        border: none;
        border-radius: 10%;
        background-color: #dfa974;
        color: white;
    }
</style>
